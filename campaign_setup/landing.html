{% load static %}
{% load humanize %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="images/favicon.png">

  <title>Dealer Funnel</title>
	<link href='http://fonts.googleapis.com/css?family=Lato:400,300,700' rel='stylesheet' type='text/css'>

  <!-- Bootstrap core CSS -->
  <link href="{% static 'js/bootstrap/dist/css/bootstrap.css' %}" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" media="all" href="{% static 'css/dealerminer.css' %}" />

  <!-- Font Icon Packs -->
  <link href="{% static 'css/font-awesome-4.5.0/css/font-awesome.min.css' %}" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="{% static 'css/simple-line-icons/css/simple-line-icons.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'css/dealerfunnel-icons/flaticon.css' %}" />
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <![endif]-->
  <link rel="stylesheet" type="text/css" href="{% static 'js/jquery.gritter/css/jquery.gritter.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/jquery.nanoscroller/nanoscroller.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/jquery.easypiechart/jquery.easy-pie-chart.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/bootstrap.switch/bootstrap-switch.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/bootstrap.datetimepicker/css/bootstrap-datetimepicker.min.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/jquery.select2/select2.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/jquery.datatables/bootstrap-adapter/css/datatables.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/bootstrap.slider/css/slider.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/intro.js/introjs.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/bootstrap.timepicker/bootstrap-timepicker.min.css' %}" />
  <!-- Custom styles for this template -->
  <link rel="stylesheet" type="text/css" media="all" href="{% static 'css/showLoading.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'js/jquery.timeline/css/component.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'css/jasny-bootstrap.css' %}" />
  
	<link rel="stylesheet" type="text/css" href="{% static 'css/morris.css' %}">
 	<link rel="stylesheet" type="text/css" href="{% static 'js/timepicker-1.3.2/jquery.timepicker.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}" />

  <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script type="text/javascript" src="{% static 'js/jquery.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.gritter/js/jquery.gritter.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.nanoscroller/jquery.nanoscroller.js' %}"></script>
<script src="{% static 'js/jquery.ui/jquery-ui.js' %}" type="text/javascript"></script>
<script type="text/javascript" src="{% static 'js/jquery.sparkline/jquery.sparkline.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.easypiechart/jquery.easy-pie-chart.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.nestable/jquery.nestable.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.switch/bootstrap-switch.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap-modalmanager.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap-modal.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.datetimepicker/js/bootstrap-datetimepicker.min.js' %}"></script>
<script src="{% static 'js/jquery.select2/select2.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/skycons/skycons.js' %}" type="text/javascript"></script>
<script src="{% static 'js/bootstrap.slider/js/bootstrap-slider.js' %}" type="text/javascript"></script>
<script type="text/javascript" src="{% static 'js/jquery.datatables/jquery.datatables.min.js' %}"></script>


<script src="http://cdn.oesmith.co.uk/morris-0.4.1.min.js"></script>
<!--
<script type="text/javascript" src="{% static 'js/jquery.flot/jquery.flot.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.flot/jquery.flot.pie.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.flot/jquery.flot.time.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.flot/jquery.flot.resize.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.flot/jquery.flot.labels.js' %}"></script>-->
<script type="text/javascript" src="{% static 'js/daterangepicker/moment.js' %}"></script>
<script type="text/javascript" src="{% static 'js/daterangepicker/daterangepicker.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.timepicker/bootstrap-timepicker.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.maskedinput/jquery.maskedinput.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.multiselect/js/bootstrap-multiselect.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.icheck/icheck.min.js' %}"></script>
<script src="{% static 'js/bootstrap.slider/js/bootstrap-slider.js' %}" type="text/javascript"></script>
<script type="text/javascript" src="{% static 'js/behaviour/general.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.timeago.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.showLoading.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootbox/bootbox.min.js' %}"></script>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script type="text/javascript" src="{% static 'js/jquery.validate.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jshashtable.js' %}"></script>
<script type="text/javascript" src="{% static 'js/numberformatter.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jasny-bootstrap.js' %}"></script>
<script type="text/javascript" src="{% static 'js/angular.js' %}"></script>
<script type="text/javascript" src="{% static 'js/timepicker-1.3.2/jquery.timepicker.js' %}"></script>
<script type="text/javascript" src="{% static 'js/audiojs/audio.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main-scripts.js' %}"></script>
</head>
<body>

  <!-- Fixed navbar -->
  <div id="head-nav" class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="fa fa-gear"></span>
        </button>
        <a class="navbar-brand" href="index.html"><strong>Dealer</strong>Funnel</a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="selected_dealer_name" >{{ local.dealer.selecteddealer.name }}</span><b class="caret"></b></a>
            <ul class="dropdown-menu">
              {% for n in local.dealer.dealerlist  %}
              <li><a onclick="dealerrequest('{{n.id}}','{{n.name}}','{{n.keyid}}')" href="javascript:void(0)">{{ n.name }}</a></li>
              {% endfor %}
               
            </ul>
          </li>
         
        </ul>
        <input type="hidden" id="selectedid" value="{{ local.dealer.select_id }}"/>
        <input type="hidden" id="selectedkeyid" value="{{ local.dealer.keyid }}"/>
        <ul class="nav navbar-nav navbar-right user-nav">
          <li class="dropdown profile_menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><img alt="Avatar" src="http://placehold.it/24x24" /><span>John Doe</span> <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="setting-page.html"><i class="icon-settings"></i> Settings</a></li>
              <li><a href="customer-profile-page.html"><i class="icon-user"></i> Profile</a></li>
              <li class="divider"></li>
              <li><a href="#"><i class="icon-logout"></i> Sign Out</a></li>
            </ul>
          </li>
        </ul>     

      </div><!--/.nav-collapse animate-collapse -->
    </div>
  </div>
  <script>
  function dealerrequest(dealerid,dealername,keyid)
  {
     
     location.href = "{{local.domain}}" + "campaign/setup/?id=" + keyid;
     
  }
  </script>
  </script> 
	<div id="cl-wrapper" class="fixed-menu sb-collapsed">
		<ul class="funnel-mainnav">
    <li {% if menu.base == 'DASHBOARD' %}  class="active" {% endif %} ><a href="{% url 'dashboard_landing' %}">
    <i class="icon-speedometer"></i> <span>Dashboard</span></a></li>
    <li {% if menu.base == 'CAMPAIGN' %}  class="active" {% endif %} ><a href="{% url 'campaign_landing' %}"><i class="icon-folder"></i> <span>Campaigns</span></a></li>
    <li {% if menu.base == 'CUSTOMER' %}  class="active" {% endif %} ><a href="{% url 'customer_landing' %}"><i class="icon-user"></i> <span>Customers</span></a></li>
    <li><a href="{% url 'leads_landing' %}"><i class="icon-star"></i> <span>Leads</span> <span class="label label-primary">22</span></a></li>
     <li {% if menu.base == 'HISTORICAL' %}  class="active" {% endif %} ><a href="{% url 'reports_historical' %}"><i class="icon-reload"></i>  Historical</a></li>
    <li {% if menu.base == 'MARKETANALYSIS' %}  class="active" {% endif %}><a href="{% url 'reports_marketanalysis' %}"><i class="icon-graph"></i>  Market Analysis</a></li>
    <li {% if menu.base == 'ROI' %}  class="active" {% endif %}><a href="{% url 'reports_roi' %}"><i class="icon-pie-chart"></i>  ROI</a></li>
    {% if userinfo.type = 1 %}
   <li {% if menu.base == 'DEALERSHIP' %}  class="active" {% endif %} ><a href="{% url 'dealership_landing' %}"><i class="icon-star"></i>  Dealerships</a></li>
        <li {% if menu.base == 'USER' %}  class="active" {% endif %} ><a href="{% url 'user_landing' %}"><i class="icon-user"></i>  Users</a></li>
    {% endif %}
  </ul>
    
      

	   <div class="container-fluid" id="pcont">

      <div class="page-head ">
        <div class="row">
          <div class="col-sm-6">
            <h2>Campaign Builder</h2>
            <ol class="breadcrumb">
              <li><a href="#">Home</a></li>
              <li class="active">Campaign Builder</li>
            </ol>
          </div>
          <div class="col-sm-6 text-right">
            <a href="#modal-create-campaign" class="btn btn-success btn-create-campaign" data-toggle="modal">Create Campaign</a>
          </div>
        </div>
      </div>
		  <div class="page-content-sidebar">
		  	<div class="page-aside block">
        	<div class="sidebar">
            <div class="campaign-builder-sidebar">
              <p onclick="filtertopnav('1',1)"  class="sidebar-row clearfix cursor_style">	
              <i class="fa fa-circle campaign-state campaign-state-online"></i>
              Total Customers :  <span class="label label-gray pull-right">{{local.analysis.total_customer|intcomma}}</span></p>

              <form class="form sidebar-row">
                <p><a onclick="filtertopnav('2',1)" href="#collapse-warranty" data-toggle="collapse">
                  	<i class="fa fa-circle campaign-state campaign-state-online"></i>
                  Warranty Expiration<span class="label label-gray pull-right">{{local.analysis.warrantyexpiration|intcomma}}</span>
                  </a>
                </p>
                <div class="row collapse" id="collapse-warranty">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label>Expirating in</label>
                      <select onchange="warrantyrange()" id="warrantyex" class="form-control multiselect"  multiple="multiple">
                        <option value="0" selected>all</option>
                        <option value="1">0-6 months</option>
                        <option value="2">6-12 months</option>
                        <option value="3">12-18 months</option>
                        <option value="4">18-24 months</option>
                        <option value="5">24-30 months</option>
                        <option value="6">30-36 months</option>
                      </select>
                    </div>
                  </div>
                </div>
              </form>
              <p class="sidebar-row">
              <i class="fa fa-circle campaign-state campaign-state-offline"></i> 
                Crossover Conquest<span class="label label-gray pull-right">{{local.analysis.crossoverconquest|intcomma}}</span>
              </p>
              <form class="form sidebar-row">
                <p><a onclick="filtertopnav('4',1)" href="#collapse-lease" data-toggle="collapse">
                  	<i class="fa fa-circle campaign-state campaign-state-online"></i>
                  Lease Expiration<span class="label label-gray pull-right">{{local.analysis.leaseexpiration|intcomma}}</span>
                  </a>
                </p>
                <div class="row collapse" id="collapse-lease">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label>Expirating in</label>
                      <select onchange="lwarrantyrange()" id="lwarrantyex" class="form-control multiselect"  multiple="multiple">
                        <option value="0" selected>all</option>
                        <option value="1">0-6 months</option>
                        <option value="2">6-12 months</option>
                        <option value="3">12-18 months</option>
                        <option value="4">18-24 months</option>
                        <option value="5">24-30 months</option>
                        <option value="5">30-36 months</option>
                      </select>
                    </div>
                  </div>
                </div>
              </form>
              <form class="form sidebar-row">
                <p onclick="filtertopnav('5',1)" class="clearfix"><a href="#birthday-collapse" data-toggle="collapse">
                <i class="fa fa-circle campaign-state campaign-state-offline"></i> Birthday:</a> <span class="label label-gray pull-right">{{local.analysis.birthday|intcomma}}</span></p>
                <div class="row collapse" id="birthday-collapse">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label>Month</label>
                      <select onchange="getbirthdaymonth()" id="birthdaymonthid" class="form-control multiselect" multiple="multiple">
                        <option value="0" selected>all</option>
                        <option value="1" >January</option>
                        <option value="2" >February</option>
                        <option value="3" >March</option>
                        <option value="4" >April</option>
                        <option value="5" >May</option>
                        <option value="6" >June</option>
                        <option value="7" >July</option>
                        <option value="8" >August</option>
                        <option value="9" >September</option>
                        <option value="10" >Octber</option>
                        <option value="11" >November</option>
                        <option value="12" >December</option>
                        
                      </select><input value="0" type="hidden" id="iswarrantyrange"/>
  <input value="0" type="hidden" id="warrantyrange"/>
                    </div>
                  </div>
                </div>
              </form>
              <p class="sidebar-row">
                <i class="fa fa-circle campaign-state campaign-state-offline"></i> 
                Equity Position: <span class="label label-gray pull-right">{{local.analysis.euityposition|intcomma}}</span>
              </p>
              <form class="form sidebar-row">
                <p><a onclick="filtertopnav('7',1)" href="#collapse-TradeCycle" data-toggle="collapse">
                  	<i class="fa fa-circle campaign-state campaign-state-online"></i>
                  Trade Cycle<span class="label label-gray pull-right">{{local.analysis.tradecycle|intcomma}}</span>
                  </a>
                  
                </p>
                <div class="row collapse" id="collapse-TradeCycle">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label>Vehicle Year</label>
                      <input onblur="getvehiche1()" id="vehicleyear1" type="text"/>  <input onblur="getvehiche2()" id="vehicleyear2" type="text"/>
                      <label>Sold Date</label>
                      <select onchange="tradecyclepress()" id="tradecycleid" class="form-control multiselect"  multiple="multiple">
                        <option value="0" selected>all</option>
                        <option value="1">0-3 months</option>
                        <option value="2">3-6 months</option>
                        <option value="3">6-12 months</option>
                        <option value="4">1 years</option>
                        <option value="5">2 years</option>
                        <option value="6">3 years</option>
                        <option value="7">4 years</option>
                        <option value="8">5 years</option>
                        <option value="9">6 years</option>
                        <option value="10">7+ years</option>
                      </select>
                      
                    </div>
                  </div>
                </div>
              </form>
              
              <p class="sidebar-row">
              	<i class="fa fa-circle campaign-state campaign-state-online"></i> 
                Make Conquest:  <span class="label label-gray pull-right">{{local.analysis.makeconquest|intcomma}}</span>
              </p>
              <p onclick="filtertopnav('9',1)" class="sidebar-row cursor_style">
                <i class="fa fa-circle campaign-state campaign-state-offline"></i> 
                Late Service: <span class="label label-gray pull-right">{{local.analysis.lateservice|intcomma}}</span>
              </p>
            
            </div>  
            <div class="sidebar-filter campaign-builder-sidebar">
              <h4>Filter</h4>
              <form class="form">
                <div class="row">
                  <div class="col-sm-12">
                    <div class="form-group">
                      <label>Last Visited</label><br>
                      <div id="daterange" class="reportrange" style="width: 100%; margin: 0;">
                        <i class="icon-calender"></i> 
                        <span></span> 
                        <i class="fa fa-caret-down pull-right"></i>
                      </div>
                      <input value="{{ local.diff.lastvisit|date:"Y-m-d" }}" type="hidden" id="lastvisit_start_date"/>
                      <input value="{{ local.diff.today|date:"Y-m-d" }}" type="hidden" id="lastvisit_end_date"/>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <div class="form-group">
                      <label>Last Notifications</label><br>
                      <div id="lastnotificationid" class="reportrange" style="width: 100%; margin: 0;">
                        <i class="icon-calender"></i>
                        <span></span> 
                        <i class="fa fa-caret-down pull-right"></i>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <div class="form-group">
                      <label>Distance</label><br>
                      <select id="sdistanceid"  onchange = "getdistance()" class="form-control multiselect"  multiple="multiple">
                        <option value="0" selected>All</option>
                        <option value="1">0-5 miles</option>
                        <option value="2">5-10 miles</option>
                        <option value="3">10-15 miles</option>
                        <option value="4">15-20 miles</option>
                        <option value="5">20 or more miles</option>
                      </select>
                    </div>
                  </div>
                  
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <div class="form-group">
                      <label>Notification Count</label><br>
                      <select onchange = "getnoticecount()" id="sncountid" class="form-control multiselect"  multiple="multiple">
                        <option value="1000" selected>All</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="999">10+</option>
                      </select>
                    </div>
                  </div>
                  
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <div class="form-group">
                      <label>Customer Type</label><br>
                      <select onchange = "getcustomertype()" id="scustomertypeid" class="form-control multiselect"  multiple="multiple">
                        <option value="0" selected>All Customers</option>
                        <option value="1">Active</option>
                        <option value="2">Less Active</option>
                        <option value="3">Lost</option>
                        
                      </select>
                    </div>
                  </div>
                  
                </div>
              </form>
            </div>   
        	</div>
		  	</div>
		  	<div class="page-content">
		  		<div id="searchfilter"></div>
		  	</div>
		  </div>
		</div> 
		  
	</div>

  <div class="modal fade" id="modal-status">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Lead Status</h4>
      </div>
      <div class="modal-body">
        <form class="form">
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label>Select Status</label>
                <select class="form-control">
                  <option>Hot</option>
                  <option>Warm</option>
                </select>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="modal-type">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Lead Type</h4>
      </div>
      <div class="modal-body">
        <form class="form">
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label>Select Type</label>
                <select class="form-control">
                  <option>Call</option>
                  <option>Web Lead</option>
                </select>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

  <div class="modal fade" id="modal-weblead">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Web Leads<br><small>Sub lines</small></h4>
        </div>
        <div class="modal-body">
          <form class="form">
            <div class="row">
              <div class="col-sm-6">
                <h4>John Doe</h4>
                <p><i class="fa fa-location-arrow"></i> 123 5th Ave FL Troy NY 12380</p>
                <p><i class="fa fa-phone"></i> 518 720 7119</p>
                <p><i class="fa fa-envelope"></i> <a href="#">jdoe@gmail.com</a></p>
              </div>
              <div class="col-sm-6">
                <p><strong>Source : </strong> <a href="#">CAPInvite.com</a></p>
                <p><strong>Date : </strong> 01/01/2015</p>
                <p><strong>Time : </strong> 9:00 AM</p>
                <p><strong>Owner : </strong> Unassigned</p>
                <p><strong>Status : </strong> <button type="button" class="btn btn-xs btn-danger">Hot</button></p>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Customer Summary</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <div class="modal fade" id="modal-phonelead">
  
  </div><!-- /.modal -->

<div class="modal fade" id="modal-selection-range">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title clearfix">Selection Range</h4>
      </div>
      <div class="modal-body">
        <form class="form">
          <div class="row">
            <div class="col-sm-4">
              <label>Start Range</label>
              <input id="start_range_id" type="text" class="form-control">
            </div>
            <div class="col-sm-4">
              <label>End Range</label>
              <input id="end_range_id" type="text" class="form-control">
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button onclick="save_date_range()" type="button" class="btn btn-default">Save</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="modal-create-campaign">
  <div id="modal_container" class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title clearfix">New Campaign</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal">
          <p><strong>Trigger Selection: <span id="ctriggerid" ></span></strong></p>
          <div class="row">
            <label class="col-sm-3 control-label">Mail Total:</label>
            <div class="col-sm-3"><p class="form-control-static"><span id="cmailtotalid" >0</span></p></div>
            <label class="col-sm-3 control-label">Mail Style</label>
            <div class="col-sm-3">
              <select id="mailstyleid" class="form-control">
                <option selected value="1" >Style 1</option>
                <option value="2">Style 2</option>
                <option value="3">Style 3</option>
                <option value="4">Style 4</option>
              </select>
            </div>
          </div>

          <div class="row">
            <label class="col-sm-3 control-label">Email Total:</label>
            <div class="col-sm-3"><p class="form-control-static"><span id="cemailtotalid" >0</span></p></div>
            <label class="col-sm-3 control-label">Email Style</label>
            <div class="col-sm-3">
              <select  id="emailstyleid" class="form-control">
                <option selected value="1" >Style 1</option>
                <option value="2">Style 2</option>
                <option value="3">Style 3</option>
                <option value="4">Style 4</option>
              </select>
            </div>
          </div>

          <div class="row">
            <label class="col-sm-3 control-label">Cost Total:</label>
              <div class="col-sm-3"> <p class="form-control-static">$<span id="ccostid" >0</span></p></div>
            <label class="col-sm-3 control-label">Campaign Status</label>
            <div class="col-sm-3">
              <select id="cstatus"  class="form-control">
                <option selected value="1" >Execute</option>
                <option value="2">Scheduled</option>
               
                
              </select>
            </div>
          </div>

          <div class="row">
            <label class="col-sm-3 control-label">Campaign Start</label>
            <div class="col-sm-3">
              <input id="campaigndate_id" type="text" class="form-control datepicker">
            </div>
            

            <label class="col-sm-3 control-label">Campaign Type</label>
            <div class="col-sm-3">
              <select id="ctypeid" class="form-control">
                <option selected value="1" >Sales</option>
                <option value="2">Service</option>
                <option value="3">Sales & Service</option>
                
              </select>
            </div>
          </div>

          <div class="row">
            
            <label class="col-sm-3 control-label">Campaign End</label>
            <div class="col-sm-3">
              <input id="campaignenddate_id" type="text" class="form-control datepicker">
            </div>
            <label class="col-sm-3 control-label">Budget Month</label>
            <div class="col-sm-3">
              <select id="budgetmonthid" class="form-control">
                <option selected value="1" >January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
              </select>
            </div>
          </div>
          <div class="row">
            <label class="col-sm-3 control-label">Mail Date</label>
            <div class="col-sm-3">
              <input id="maildate_id" type="text" class="form-control datepicker">
            </div>
            

            <label class="col-sm-3 control-label">Email Date</label>
            <div class="col-sm-3">
              <input id="emaildate_id" type="text" class="form-control datepicker">
            </div>
            <label class="col-sm-3 control-label">link</label>
            <div class="col-sm-3">
              <a data-toggle="modal" class="btn btn-primary btn-create-campaign" href="#cloudonemodal">Cloud one</a>
            </div>
          </div>
        </form>
      </div>
      
      <div class="modal-footer">
        <button onclick="createcampaign()" type="button" class="btn btn-success"><i class="icon-plus"></i> Create Campaign</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal fade" id="cloudonemodal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title clearfix">New Campaign</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal">
          
          

          <div class="row">
            
            <label class="col-sm-3 control-label">Campaign End</label>
            <div class="col-sm-3">
              <input type="text" class="form-control datepicker">
            </div>
            <label class="col-sm-3 control-label">Budget Month</label>
            <div class="col-sm-3">
              <select class="form-control">
                <option>Style 1</option>
              </select>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary">Create Campaign</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->  
  <input type="hidden" id="topnavid" value="1"/>
  <input type="hidden" id="dealerid" value="{{ local.dealerid }}"/>
  <input value="0" type="hidden" id="sdate"/>
  <input value="0" type="hidden" id="edate"/>
  <input value="0" type="hidden" id="distanceid"/>
  <input value="1000" type="hidden" id="ncountid"/>
  <input value="0" type="hidden" id="customerid"/>
  <input value="0" type="hidden" id="isdate"/>
  <input value="0" type="hidden" id="isnotification"/>
  <input value="0" type="hidden" id="iswarrantyrange"/>
  <input value="0" type="hidden" id="warrantyrange"/> 
  <input value="0" type="hidden" id="islwarrantyrange"/>
  <input value="0" type="hidden" id="lwarrantyrange"/>
  <input value="0" type="hidden" id="isbirthdaymonth"/>
  <input value="0" type="hidden" id="birthdaymonth"/>
  <input value="0" type="hidden" id="nsdate"/>
  <input value="0" type="hidden" id="nedate"/>
  <input value="0" type="hidden" id="isndate"/>
  <input value="" type="hidden" id="searchitem"/>
  <input value="0" type="hidden" id="issearch"/>
  <input value="0" type="hidden" id="tracecyclerange"/>
  <input value="0" type="hidden" id="vyear1"/>
  <input value="0" type="hidden" id="vyear2"/>
  <input value="0" type="hidden" id="issearch"/>
  <input value="{{local.key}}" type="hidden" id="redirectid"/>
  
  
 
  
  
  
  
  
  <script>
  function default_filter_setting(id)
  {
        $('#sdistanceid option[value="1"]').prop('selected', false);
        $('#sdistanceid option[value="2"]').prop('selected', false);
        $('#sdistanceid option[value="3"]').prop('selected', false);
        $('#sdistanceid option[value="4"]').prop('selected', false);
        $('#sdistanceid option[value="5"]').prop('selected', false);
        $('#sdistanceid option[value="0"]').prop('selected', true);
        $('#sdistanceid').multiselect('refresh');
      	$('#sncountid option[value="1"]').prop('selected', false);
      	$('#sncountid option[value="2"]').prop('selected', false);
      	$('#sncountid option[value="3"]').prop('seltopnavidected', false);
      	$('#sncountid option[value="4"]').prop('selected', false);
      	$('#sncountid option[value="5"]').prop('selected', false);
      	$('#sncountid option[value="5"]').prop('selected', false);
      	$('#sncountid option[value="6"]').prop('selected', false);
      	$('#sncountid option[value="7"]').prop('selected', false);
      	$('#sncountid option[value="8"]').prop('selected', false);
      	$('#sncountid option[value="9"]').prop('selected', false);
      	$('#sncountid option[value="10"]').prop('selected', false);
      	$('#sncountid option[value="0"]').prop('selected', true);
      	$('#sncountid').multiselect('refresh');
      	$('#scustomertypeid option[value="1"]').prop('selected', false);
      	$('#scustomertypeid option[value="2"]').prop('selected', false);
      	$('#scustomertypeid option[value="3"]').prop('selected', false);
      	$('#scustomertypeid option[value="0"]').prop('selected', true);
      	$('#scustomertypeid').multiselect('refresh');
      	$('#daterange span').html(moment().subtract('days',700).format('MMMM D, YYYY') + ' - ' + moment().format('MMMM D, YYYY'));
      	$('#isdate').val('0');
      	$('#iswarrantyrange').val('0');
      	$('#islwarrantyrange').val('0');
      	$('#isbirthdaymonth').val('0');
      	$('#ncountid').val('1000');
      	$('#isnotification').val('0');
      	$('#issearch').val('0');
      	$('#searchitem').val('');
      	$('#daterange span').html('All');
      	$('#tracecyclerange').val('0');
      	$('#vyear1').val('');
      	$('#vyear2').val('');
      	$('#vehicleyear1').val('');
      	$('#vehicleyear2').val('');
      	$('#tradecycleid option[value="1"]').prop('selected', false);
      	$('#tradecycleid option[value="2"]').prop('selected', false);
      	$('#tradecycleid option[value="3"]').prop('selected', false);
      	$('#tradecycleid option[value="4"]').prop('selected', false);
      	$('#tradecycleid option[value="5"]').prop('selected', false);
      	$('#tradecycleid option[value="6"]').prop('selected', false);
      	$('#tradecycleid option[value="7"]').prop('selected', false);
      	$('#tradecycleid option[value="8"]').prop('selected', false);
      	$('#tradecycleid option[value="9"]').prop('selected', false);
      	$('#tradecycleid option[value="10"]').prop('selected', false);
      	$('#tradecycleid option[value="0"]').prop('selected', true);
      	$('#tradecycleid').multiselect('refresh');
      	var arr = ['','','collapse-warranty','','collapse-lease','birthday-collapse','','collapse-TradeCycle','','','','']
      	var topnav  = $('#topnavid').val();
      	
      	
      	if (id!=topnav)
      	{
      	   tp = parseInt(topnav);
      	   if (arr[tp]!='')
      	   $('#'+arr[tp]).removeClass('in');
      	}
  }
  function filterajax()
  {
       var dealerid   = $('#dealerid').val();
       var topnav     = $('#topnavid').val();
       var cpage      = $('#cpage').val();
       var tpage      = $('#tpage').val();
       var isdate     = $('#isdate').val();
       var distanceid = $('#distanceid').val();
       var ncountid   = $('#ncountid').val();
       var ctypeid    = $('#customerid').val();
       var isnotification    = $('#isnotification').val();
       var sdate      = $('#sdate').val();//alert(option);
       var edate      = $('#edate').val();
       var isndate    = $('#isndate').val();
       var sndate     = $('#nsdate').val();
       var endate     = $('#nedate').val();  
       var iswarrantyrange = $('#iswarrantyrange').val();
       var warrantyrange    = $('#warrantyrange').val();
       var islwarrantyrange = $('#islwarrantyrange').val();
       var lwarrantyrange    = $('#lwarrantyrange').val();
       var isbirthday    = $('#isbirthdaymonth').val();
       var birthdaymonth    = $('#birthdaymonth').val();
       var fieldid      = $('#fieldid').val();
       var orderstatus      = $('#orderstatus').val();
       var searchitem      = $('#searchitem').val();
       var issearch      = $('#issearch').val();
       var orderstatus1  = $('#orderstatus1').val();
       var orderstatus2  = $('#orderstatus2').val();
       var orderstatus3  = $('#orderstatus3').val();
       var orderstatus4  = $('#orderstatus4').val();
       var orderstatus5  = $('#orderstatus5').val();
       var tradeinrange  = $('#tracecyclerange').val();
       var vyear1        = $('#vyear1').val();
       var vyear2        = $('#vyear2').val();
       $('#searchfilter').showLoading(); 
	      $.get('/campaign/setup/searchfilter/',
	      	{topnav:topnav,dealerid:dealerid,cpage:cpage,ptype:tpage,distance:distanceid,notification:ncountid,customertype:ctypeid,
	      	 isdate:isdate,isnotification:isnotification,sdate:sdate,edate:edate,sndate:sndate,endate:endate,
	      	 iswarrantyrange:iswarrantyrange,warrantyrange:warrantyrange,islwarrantyrange:islwarrantyrange,
	      	 lwarrantyrange:lwarrantyrange,isbirthday:isbirthday,birthdaymonth:birthdaymonth,isndate:isndate,
	      	 searchitem:searchitem,issearch:issearch,orderstatus1:orderstatus1,orderstatus2:orderstatus2,
	      	 orderstatus3:orderstatus3,orderstatus4:orderstatus4,orderstatus5:orderstatus5,tradeinrange:tradeinrange,
	      	 vyear1:vyear1,vyear2:vyear2
	      	 },
	      	 function(data, status)
	         {
                $('#searchfilter').html(data);
                $("abbr.timeago").timeago();
                $('#searchfilter').hideLoading(); 
             });
  }
  function nexpagin()
  {
    
     var cpage       = parseInt($('#cpage').val());
     var tpage       = parseInt($('#tpage').val()); 
     cpage++;
     if(cpage<=tpage)
     {
          $('#cpage').val(cpage);
          filterajax();
     }
  }
  function previouspagin()
  {
     
     var cpage       = parseInt($('#cpage').val());
     cpage--;
     if(cpage>0)
     {
         $('#cpage').val(cpage);
         filterajax();
     }
  }
 $(document).ready(function() {
    filtertopnav(1,0);
 });
  </script>
  <script>
 $(document).ready(function() {
    $('#daterange').daterangepicker(
       {
          startDate: moment().subtract('days',1200),
          endDate: moment(),
          minDate: '01/01/2013',
          maxDate: '12/31/2015',
          dateLimit: { days: 1200 },
          showDropdowns: true,
	      showWeekNumbers: true,
          timePicker: false,
          timePickerIncrement: 1,
          timePicker12Hour: true,
          ranges: {
             'Today': [moment(), moment()],
             'Yesterday': [moment().subtract('days', 1), moment().subtract('days', 1)],
             'Last 7 Days': [moment().subtract('days', 6), moment()],
             'Last 30 Days': [moment().subtract('days', 29), moment()],
             'This Month': [moment().startOf('month'), moment().endOf('month')],
             'Last Month': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')],
             'This Year' : [moment().startOf('year'), moment().endOf('year')],
             'Last Year' : [moment().subtract('year', 1).startOf('year'), moment().subtract('year', 1).endOf('year')],
             'Turn Off'  : [moment().subtract('days', 500), moment()],
          },
          opens: 'right',
          buttonClasses: ['btn btn-default'],
          applyClass: 'btn-small btn-primary',
          cancelClass: 'btn-small btn-inverse',
          format: 'MM/DD/YYYY',
          separator: ' to ',
          locale: {
              applyLabel: 'Submit',
              fromLabel: 'From',
              toLabel: 'To',
              customRangeLabel: 'Custom Range',
              daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr','Sa'],
              monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
              firstDay: 1
          }
       },
       function(start, end) 
       {
            var diff = end - start;
            if (diff == 43286399999)
            {
               $('#isdate').val('0');
               $('#daterange span').html('All');
            }
            else
            { 
              $('#isdate').val('1');
              $('#sdate').val(start.format('YYYY-MM-DD'));
              $('#edate').val(end.format('YYYY-MM-DD')); 
              $('#daterange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
            }
            filterajax();
            
       }
    );
    
    
    $('#daterange span').html('All');
    
 });
</script>
<script>
 $(document).ready(function() {
    $('#lastnotificationid').daterangepicker(
       {
          startDate: moment().subtract('days',30),
          endDate: moment(),
          minDate: '01/01/2013',
          maxDate: '12/31/2015',
          dateLimit: { days: 60 },
          showDropdowns: true,
	      showWeekNumbers: true,
          timePicker: false,
          timePickerIncrement: 1,
          timePicker12Hour: true,
          ranges: {
             'Today': [moment(), moment()],
             'Yesterday': [moment().subtract('days', 1), moment().subtract('days', 1)],
             'Last 7 Days': [moment().subtract('days', 6), moment()],
             'Last 30 Days': [moment().subtract('days', 29), moment()],
             'This Month': [moment().startOf('month'), moment().endOf('month')],
             'Last Month': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')],
             'This Year' : [moment().startOf('year'), moment().endOf('year')],
             'Last Year' : [moment().subtract('year', 1).startOf('year'), moment().subtract('year', 1).endOf('year')],
             'Turn Off'  : [moment().subtract('days', 500), moment()],   
          },
          opens: 'right',
          buttonClasses: ['btn btn-default'],
          applyClass: 'btn-small btn-primary',
          cancelClass: 'btn-small btn-inverse',
          format: 'MM/DD/YYYY',
          separator: ' to ',
          locale: {
              applyLabel: 'Submit',
              fromLabel: 'From',
              toLabel: 'To',
              customRangeLabel: 'Custom Range',
              daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr','Sa'],
              monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'JulMake Conquesty', 'August', 'September', 'October', 'November', 'December'],
              firstDay: 1
          }
       },
       function(start, end) 
       {
            var diff = end - start;
            if (diff == 43286399999)
            {
                $('#isndate').val('0');
                $('#lastnotificationid span').html('All');
            }
            else
            {
            	$('#nsdate').val(start.format('YYYY-MM-DD'));
            	$('#nedate').val(end.format('YYYY-MM-DD')); 
            	$('#lastnotificationid span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
            	$('#isndate').val('1');
            }
            filterajax();
            
       }
    );
    $('#lastnotificationid span').html('All');
    
    function isavailablezero(str)
    {
        var str = String(str);
        var arr = str.split(" ");
        for (i=0;i<arr.length;i++)
        {
           var temp = parseInt(arr[i]);
           if(temp==0)
           {
               
               return 1;
           }
        }
        return 0;
    }
    
 });
</script>
  <script type="text/javascript">
    $(document).ready(function(){
       $('.multiselect').multiselect();
       
      

      $('.datatable').DataTable( {
        initComplete: function () {
          var api = this.api();

          api.columns().indexes().flatten().each( function ( i ) {
            var column = api.column( i );
            var select = $('<select><option value=""></option></select>')
              .appendTo( $(column.footer()).empty() )
              .on( 'change', function () {
                var val = $.fn.dataTable.util.escapeRegex(
                  $(this).val()
                );

                column
                  .search( val ? '^'+val+'$' : '', true, false )
                  .draw();
              } );

            column.data().unique().sort().each( function ( d, j ) {
              select.append( '<option value="'+d+'">'+d+'</option>' )
            } );
          } );
        }
      } );

        //Search input style
      $('.dataTables_filter input').addClass('form-control').attr('placeholder','Search');
      $('.dataTables_length select').addClass('form-control'); 
      $('.dataTables_length').hide();  
      //initialize the javascript

      audiojs.events.ready(function() {
        var as = audiojs.createAll();
      });
      // Datepicker
      $('.datepicker').datepicker();
    });
  </script>
  <script type="text/javascript">
    function isavailablehundred(str)
    {
        var str = String(str);
        var arr = str.split(" ");
        for (i=0;i<arr.length;i++)
        {
           var temp = parseInt(arr[i]);
           if(temp==1000)
           {
               
               return 1;
           }
        }
        return 0;
    }
    function isavailablezero(str)
    {
        var str = String(str);
        var arr = str.split(" ");
        for (i=0;i<arr.length;i++)
        {
           var temp = parseInt(arr[i]);
           if(temp==0)
           {
               
               return 1;
           }
        }
        return 0;
    }
    function isavailableanother(str)
    {
        var str = String(str);
        var arr = str.split(",");
        for (i=0;i<arr.length;i++)
        {
           var temp = parseInt(arr[i]);
           if((temp==1) || (temp==2) ||(temp == 3) || (temp == 4) || (temp == 5) || (temp == 6) || (temp == 7) || (temp == 8) || (temp == 9) || (temp == 10)) 
           {
               
               return 1;
           }
        }
        return 0;
    }
    function isavailableanothernotification(str)
    {
        var str = String(str);
        var arr = str.split(",");
        for (i=0;i<arr.length;i++)
        {
           var temp = parseInt(arr[i]);
           if((temp==1) || (temp==2) ||(temp == 3) || (temp == 4) || (temp == 5) || (temp==0) || (temp==6) ||(temp == 7) || (temp == 8) || (temp == 9) || ((temp == 999))) 
           {
               
               return 1;
           }
        }
        return 0;
    }
   
    function getdistance()
    {
      $('#isndate').val('0');
      var option  = $('#sdistanceid').val();
      var poption = $('#distanceid').val();
      var flag    = true; 
      if ((option == null) && (option == undefined))
      {
          $('#sdistanceid option[value="0"]').prop('selected', true);
          $('#sdistanceid').multiselect('refresh');
      }
      else
      {
	      if((isavailablezero(poption)==1)&&(isavailableanother(option)==1))
	      {
	      	
	      	$('#sdistanceid option[value="0"]').prop('selected', false);
	      	$('#sdistanceid').multiselect('refresh');
	      	flag        = false;  
	      }
	      if(flag)
	      {
	         if((isavailableanother(poption)==1)&&(isavailablezero(option)==1))
	         {
	      	    $('#sdistanceid option[value="1"]').prop('selected', false);
	      	    $('#sdistanceid option[value="2"]').prop('selected', false);
	      	    $('#sdistanceid option[value="3"]').prop('selected', false);
	      	    $('#sdistanceid option[value="4"]').prop('selected', false);
	      	    $('#sdistanceid option[value="5"]').prop('selected', false);
	      	    $('#sdistanceid').multiselect('refresh');
	      	    
	      	     
	         }
	      }
      }
      var option  = $('#sdistanceid').val();
      $('#distanceid').val(option);
      filterajax();
      
    }
    
    function getnoticecount()
    {
      $('#isndate').val('0');
      var option  = $('#sncountid').val();
      var poption = $('#ncountid').val();
      var flag    = true; 
      if ((option == null) && (option == undefined))
      {
          $('#sncountid option[value="1000"]').prop('selected', true);
          $('#sncountid').multiselect('refresh');
          $('#isnotification').val('0');
      }
      else
      {
	      if((isavailablehundred(poption)==1)&&(isavailableanothernotification(option)==1))
	      {
	      	
	      	$('#sncountid option[value="1000"]').prop('selected', false);
	      	$('#sncountid').multiselect('refresh');
	      	$('#isnotification').val('1');
	      	flag        = false;  
	      }
	      if(flag)
	      {
	         if((isavailableanothernotification(poption)==1)&&(isavailablehundred(option)==1))
	         {
	      	    $('#sncountid option[value="0"]').prop('selected', false);
	      	    $('#sncountid option[value="1"]').prop('selected', false);
	      	    $('#sncountid option[value="2"]').prop('selected', false);
	      	    $('#sncountid option[value="3"]').prop('selected', false);
	      	    $('#sncountid option[value="4"]').prop('selected', false);
	      	    $('#sncountid option[value="5"]').prop('selected', false);
	      	    $('#sncountid option[value="6"]').prop('selected', false);
	      	    $('#sncountid option[value="7"]').prop('selected', false);
	      	    $('#sncountid option[value="8"]').prop('selected', false);
	      	    $('#sncountid option[value="9"]').prop('selected', false);
	      	    $('#sncountid option[value="999"]').prop('selected', false);
	      	    $('#sncountid').multiselect('refresh');
	      	    $('#isnotification').val('0');
	      	     
	         }
	      }
      }
      var option  = $('#sncountid').val();
      $('#ncountid').val(option);
      filterajax();
      
    }
    function tradecyclepress()
    {
       $('#isndate').val('0');
      var option  = $('#tradecycleid').val();
      var poption = $('#tracecyclerange').val();
      var flag    = true; 
      if ((option == null) && (option == undefined))
      {
          $('#tradecycleid option[value="0"]').prop('selected', true);
          $('#tradecycleid').multiselect('refresh');
      }
      else
      {
	      if((isavailablezero(poption)==1)&&(isavailableanother(option)==1))
	      {
	      	
	      	$('#tradecycleid option[value="0"]').prop('selected', false);
	      	$('#tradecycleid').multiselect('refresh');
	      	flag        = false;  
	      }
	      if(flag)
	      {
	         if((isavailableanother(poption)==1)&&(isavailablezero(option)==1))
	         {
	      	    $('#tradecycleid option[value="1"]').prop('selected', false);
	      	    $('#tradecycleid option[value="2"]').prop('selected', false);
	      	    $('#tradecycleid option[value="3"]').prop('selected', false);
	      	    $('#tradecycleid option[value="4"]').prop('selected', false);
	      	    $('#tradecycleid option[value="5"]').prop('selected', false);
	      	    $('#tradecycleid option[value="6"]').prop('selected', false);
	      	    $('#tradecycleid option[value="7"]').prop('selected', false);
	      	    $('#tradecycleid option[value="8"]').prop('selected', false);
	      	    $('#tradecycleid option[value="9"]').prop('selected', false);
	      	    $('#tradecycleid option[value="10"]').prop('selected', false);
	      	    $('#tradecycleid').multiselect('refresh');
	      	    
	      	     
	         }
	      }
      }
      var option  = $('#tradecycleid').val();
      $('#tracecyclerange').val(option);
      filterajax();
    }
    function unselectAll()
    {
       var dealerid   = $('#dealerid').val();
       var topnav     = $('#topnavid').val();
       var cpage      = $('#cpage').val();
       var tpage      = $('#tpage').val();
       var isdate     = $('#isdate').val();
       var distanceid = $('#distanceid').val();
       var ncountid   = $('#ncountid').val();
       var ctypeid    = $('#customerid').val();
       var isnotification    = $('#isnotification').val();
       var sdate      = $('#sdate').val();//alert(option);
       var edate      = $('#edate').val();
       var sndate     = $('#nsdate').val();
       var endate     = $('#nedate').val();  
       var isndate     = $('#isndate').val();
       var iswarrantyrange = $('#iswarrantyrange').val();
       var warrantyrange    = $('#warrantyrange').val();
       var islwarrantyrange = $('#islwarrantyrange').val();
       var lwarrantyrange    = $('#lwarrantyrange').val();
       var isbirthday    = $('#isbirthdaymonth').val();
       var birthdaymonth    = $('#birthdaymonth').val();
       var fieldid      = $('#fieldid').val();
       var orderstatus      = $('#orderstatus').val();
       var searchitem      = $('#searchitem').val();
       var issearch      = $('#issearch').val();
       var orderstatus1  = $('#orderstatus1').val();
       var orderstatus2  = $('#orderstatus2').val();
       var orderstatus3  = $('#orderstatus3').val();
       var orderstatus4  = $('#orderstatus4').val();
       var orderstatus5  = $('#orderstatus5').val();
       var tradeinrange  = $('#tracecyclerange').val();
       var vyear1        = $('#vyear1').val();
       var vyear2        = $('#vyear2').val();
       $('#searchfilter').showLoading(); 
	      $.get('/campaign/setup/select/customer/range/',
	      	{
	      	 topnav:topnav,dealerid:dealerid,cpage:cpage,ptype:tpage,distance:distanceid,notification:ncountid,customertype:ctypeid,
	      	 isdate:isdate,isnotification:isnotification,sdate:sdate,edate:edate,sndate:sndate,endate:endate,
	      	 iswarrantyrange:iswarrantyrange,warrantyrange:warrantyrange,islwarrantyrange:islwarrantyrange,
	      	 lwarrantyrange:lwarrantyrange,isbirthday:isbirthday,birthdaymonth:birthdaymonth,srange:0,erange:0,
	      	 selecttype:2,isndate:isndate,searchitem:searchitem,issearch:issearch,orderstatus1:orderstatus1,
	      	 orderstatus2:orderstatus2,orderstatus3:orderstatus3,orderstatus4:orderstatus4,orderstatus5:orderstatus5,
	      	 tradeinrange:tradeinrange,vyear1:vyear1,vyear2:vyear2
	      	},
	      	function(data, status)
	        {
                $('#searchfilter').html(data);
                $("abbr.timeago").timeago();
                $('#searchfilter').hideLoading();
                var scount = parseInt($('#total_select_count_id').val());
                var temailselect = parseInt($('#totalemailselectedid').val());
                var totalcostid = $('#totalcostid').val();
                $('#cmailtotalid').html(scount);
   				$('#cemailtotalid').html(temailselect);
   				$('#ccostid').html(totalcostid);  
            });
    }
    function save_date_range()
    {
     var start_range = $('#start_range_id').val();
     var end_range   = $('#end_range_id').val();
     $('#modal-selection-range').modal('hide');
     $('#start_range_id').val('');
     $('#end_range_id').val('');
     var dealerid   = $('#dealerid').val();
       var topnav     = $('#topnavid').val();
       var cpage      = $('#cpage').val();
       var tpage      = $('#tpage').val();
       var isdate     = $('#isdate').val();
       var distanceid = $('#distanceid').val();
       var ncountid   = $('#ncountid').val();
       var ctypeid    = $('#customerid').val();
       var isnotification    = $('#isnotification').val();
       var sdate      = $('#sdate').val();//alert(option);
       var edate      = $('#edate').val();
       var isndate     = $('#isndate').val();
       var sndate     = $('#nsdate').val();
       var endate     = $('#nedate').val(); 
       var iswarrantyrange = $('#iswarrantyrange').val();
       var warrantyrange    = $('#warrantyrange').val();
       var islwarrantyrange = $('#islwarrantyrange').val();
       var lwarrantyrange    = $('#lwarrantyrange').val();
       var isbirthday    = $('#isbirthdaymonth').val();
       var birthdaymonth    = $('#birthdaymonth').val();
       var fieldid      = $('#fieldid').val();
       var orderstatus      = $('#orderstatus').val();
       var searchitem      = $('#searchitem').val();
       var issearch      = $('#issearch').val();
       var orderstatus1  = $('#orderstatus1').val();
       var orderstatus2  = $('#orderstatus2').val();
       var orderstatus3  = $('#orderstatus3').val();
       var orderstatus4  = $('#orderstatus4').val();
       var orderstatus5  = $('#orderstatus5').val();
       var tradeinrange  = $('#tracecyclerange').val();
       var vyear1        = $('#vyear1').val();
       var vyear2        = $('#vyear2').val();
       $('#searchfilter').showLoading(); 
	      $.get('/campaign/setup/select/customer/range/',
	      	{
	      	 topnav:topnav,dealerid:dealerid,cpage:cpage,ptype:tpage,distance:distanceid,notification:ncountid,customertype:ctypeid,
	      	 isdate:isdate,isnotification:isnotification,sdate:sdate,edate:edate,sndate:sndate,endate:endate,
	      	 iswarrantyrange:iswarrantyrange,warrantyrange:warrantyrange,islwarrantyrange:islwarrantyrange,
	      	 lwarrantyrange:lwarrantyrange,isbirthday:isbirthday,birthdaymonth:birthdaymonth,srange:start_range,erange:end_range,
	      	 selecttype:3,isndate:isndate,searchitem:searchitem,issearch:issearch,orderstatus1:orderstatus1,orderstatus2:orderstatus2,
	      	 orderstatus3:orderstatus3,orderstatus4:orderstatus4,orderstatus5:orderstatus5,tradeinrange:tradeinrange,
	      	 vyear1:vyear1,vyear2:vyear2
	      	},
	      	function(data, status)
	        {
                $('#searchfilter').html(data);
                $("abbr.timeago").timeago();
                $('#searchfilter').hideLoading();
                var scount = parseInt($('#total_select_count_id').val());
                var temailselect = parseInt($('#totalemailselectedid').val());
                var totalcostid = $('#totalcostid').val();
                $('#cmailtotalid').html(scount);
   				$('#cemailtotalid').html(temailselect);
   				$('#ccostid').html(totalcostid);  
            });
     
     
    }
    function selectAll()
    {
       var dealerid   = $('#dealerid').val();
       var topnav     = $('#topnavid').val();
       var cpage      = $('#cpage').val();
       var tpage      = $('#tpage').val();
       var isdate     = $('#isdate').val();
       var distanceid = $('#distanceid').val();
       var ncountid   = $('#ncountid').val();
       var ctypeid    = $('#customerid').val();
       var isnotification    = $('#isnotification').val();
       var sdate      = $('#sdate').val();//alert(option);
       var edate      = $('#edate').val();
       var isndate    = $('#isndate').val();
       var sndate     = $('#nsdate').val();
       var endate     = $('#nedate').val();  
       var iswarrantyrange = $('#iswarrantyrange').val();
       var warrantyrange    = $('#warrantyrange').val();
       var islwarrantyrange = $('#islwarrantyrange').val();
       var lwarrantyrange    = $('#lwarrantyrange').val();
       var isbirthday    = $('#isbirthdaymonth').val();
       var birthdaymonth    = $('#birthdaymonth').val();
       var fieldid      = $('#fieldid').val();
       var orderstatus      = $('#orderstatus').val();
       var searchitem      = $('#searchitem').val();
       var issearch      = $('#issearch').val();
       var orderstatus1  = $('#orderstatus1').val();
       var orderstatus2  = $('#orderstatus2').val();
       var orderstatus3  = $('#orderstatus3').val();
       var orderstatus4  = $('#orderstatus4').val();
       var orderstatus5  = $('#orderstatus5').val();
       var tradeinrange  = $('#tracecyclerange').val();
       var vyear1        = $('#vyear1').val();
       var vyear2        = $('#vyear2').val();
       $('#searchfilter').showLoading(); 
	      $.get('/campaign/setup/select/customer/range/',
	      	{
	      	 topnav:topnav,dealerid:dealerid,cpage:cpage,ptype:tpage,distance:distanceid,notification:ncountid,customertype:ctypeid,
	      	 isdate:isdate,isnotification:isnotification,sdate:sdate,edate:edate,sndate:sndate,endate:endate,
	      	 iswarrantyrange:iswarrantyrange,warrantyrange:warrantyrange,islwarrantyrange:islwarrantyrange,
	      	 lwarrantyrange:lwarrantyrange,isbirthday:isbirthday,birthdaymonth:birthdaymonth,srange:0,erange:0,
	      	 selecttype:1,isndate:isndate,searchitem:searchitem,issearch:issearch,orderstatus1:orderstatus1,
	      	 orderstatus2:orderstatus2,orderstatus3:orderstatus3,orderstatus4:orderstatus4,orderstatus5:orderstatus5,
	      	 tradeinrange:tradeinrange,vyear1:vyear1,vyear2:vyear2
	      	},
	      	function(data, status)
	        {
                $('#searchfilter').html(data);
                $("abbr.timeago").timeago();
                $('#searchfilter').hideLoading();
                var scount = parseInt($('#total_select_count_id').val());
                var temailselect = parseInt($('#totalemailselectedid').val());
                var totalcostid = $('#totalcostid').val();
                $('#cmailtotalid').html(scount);
   				$('#cemailtotalid').html(temailselect);
   				$('#ccostid').html(totalcostid);  
            });
     }
    function toggleSelection()
    {
       var dealerid   = $('#dealerid').val();
       var topnav     = $('#topnavid').val();
       var cpage      = $('#cpage').val();
       var tpage      = $('#tpage').val();
       var isdate     = $('#isdate').val();
       var distanceid = $('#distanceid').val();
       var ncountid   = $('#ncountid').val();
       var ctypeid    = $('#customerid').val();
       var isnotification    = $('#isnotification').val();
       var sdate      = $('#sdate').val();//alert(option);
       var edate      = $('#edate').val();
       var isndate    = $('#isndate').val();
       var sndate     = $('#nsdate').val();
       var endate     = $('#nedate').val();  
       var iswarrantyrange = $('#iswarrantyrange').val();
       var warrantyrange    = $('#warrantyrange').val();
       var islwarrantyrange = $('#islwarrantyrange').val();
       var lwarrantyrange    = $('#lwarrantyrange').val();
       var isbirthday    = $('#isbirthdaymonth').val();
       var birthdaymonth    = $('#birthdaymonth').val();
       var fieldid      = $('#fieldid').val();
       var orderstatus      = $('#orderstatus').val();
       var searchitem      = $('#searchitem').val();
       var issearch      = $('#issearch').val();
       var orderstatus1  = $('#orderstatus1').val();
       var orderstatus2  = $('#orderstatus2').val();
       var orderstatus3  = $('#orderstatus3').val();
       var orderstatus4  = $('#orderstatus4').val();
       var orderstatus5  = $('#orderstatus5').val();
       var tradeinrange  = $('#tracecyclerange').val();
       var vyear1        = $('#vyear1').val();
       var vyear2        = $('#vyear2').val();
       $('#searchfilter').showLoading(); 
	      $.get('/campaign/setup/select/customer/toggleselection/',
	      	{
	      	 topnav:topnav,dealerid:dealerid,cpage:cpage,ptype:tpage,distance:distanceid,notification:ncountid,customertype:ctypeid,
	      	 isdate:isdate,isnotification:isnotification,sdate:sdate,edate:edate,sndate:sndate,endate:endate,
	      	 iswarrantyrange:iswarrantyrange,warrantyrange:warrantyrange,islwarrantyrange:islwarrantyrange,
	      	 lwarrantyrange:lwarrantyrange,isbirthday:isbirthday,birthdaymonth:birthdaymonth,srange:0,erange:0,
	      	 selecttype:1,isndate:isndate,searchitem:searchitem,issearch:issearch,orderstatus1:orderstatus1,
	      	 orderstatus2:orderstatus2,orderstatus3:orderstatus3,orderstatus4:orderstatus4,orderstatus5:orderstatus5,
	      	 tradeinrange:tradeinrange,vyear1:vyear1,vyear2:vyear2
	      	},
	      	function(data, status)
	        {
                $('#searchfilter').html(data);
                $("abbr.timeago").timeago();
                $('#searchfilter').hideLoading();
                var scount = parseInt($('#total_select_count_id').val());
                var temailselect = parseInt($('#totalemailselectedid').val());
                var totalcostid = $('#totalcostid').val();
                $('#cmailtotalid').html(scount);
   				$('#cemailtotalid').html(temailselect);
   				$('#ccostid').html(totalcostid);  
            });
     
    }
    
   
    $(function(){
     //$("body").animate({opacity:1,'margin-left':0},500);
    $("body").css({opacity:1,'margin-left':0});
})
  function filtertopnav(id,flag)
  {
     
     if(flag == 1)
     {
      	 default_filter_setting(id);
     }
     $('#topnavid').val(id);
     var topnav = id;
     var dealerid = $('#dealerid').val();
     $('#searchfilter').showLoading(); 
	      $.get('/campaign/setup/tabfllter/',
	      	{topnav:topnav,dealerid:dealerid},
	      	 function(data, status)
	         {
                $('#searchfilter').html(data);
                $("abbr.timeago").timeago();
                $('#searchfilter').hideLoading();
                var scount = parseInt($('#total_select_count_id').val());
                var temailselect = parseInt($('#totalemailselectedid').val());
                var totalcostid = $('#totalcostid').val();
                $('#cmailtotalid').html(scount);
   				$('#cemailtotalid').html(temailselect);
   				$('#ccostid').html(totalcostid); 
             });
      
      if (topnav == '1') { $('#ctriggerid').html('Total Cusomers'); }
      if (topnav == '2') { $('#ctriggerid').html('Warranty Expiration'); }
      if (topnav == '3') { $('#ctriggerid').html('Crossover Conquest'); }
      if (topnav == '4') { $('#ctriggerid').html('Lease Expiration'); }
      if (topnav == '5') { $('#ctriggerid').html('Birthday'); }
      if (topnav == '6') { $('#ctriggerid').html('Equity Position'); }
      if (topnav == '7') { $('#ctriggerid').html('Trade Cycle'); }
      if (topnav == '8') { $('#ctriggerid').html('Make Conquest'); }
      if (topnav == '9') { $('#ctriggerid').html(' Late Service'); }         
  }
  function getcustomertype()
  {
      $('#isndate').val('0');
      var option  = $('#scustomertypeid').val();
      var poption = $('#customerid').val();
      var flag    = true; 
      if ((option == null) && (option == undefined))
      {
          $('#scustomertypeid option[value="0"]').prop('selected', true);
          $('#scustomertypeid').multiselect('refresh');
          
      }
      else
      {
	      if((isavailablezero(poption)==1)&&(isavailableanother(option)==1))
	      {
	      	
	      	$('#scustomertypeid option[value="0"]').prop('selected', false);
	      	$('#scustomertypeid').multiselect('refresh');
	      	flag        = false;  
	      }
	      if(flag)
	      {
	         if((isavailableanother(poption)==1)&&(isavailablezero(option)==1))
	         {
	      	    $('#scustomertypeid option[value="1"]').prop('selected', false);
	      	    $('#scustomertypeid option[value="2"]').prop('selected', flastnotificationidalse);
	      	    $('#scustomertypeid option[value="3"]').prop('selected', false);
	      	    $('#scustomertypeid').multiselect('refresh');
	      	    
	      	     
	         }
	      }
      }
      var option  = $('#scustomertypeid').val();
      $('#customerid').val(option);
      filterajax();
      
  }
  
  
  function warrantyrange()
  {
      
      $('#iswarrantyrange').val(1);
      var option  = $('#warrantyex').val();
      var poption = $('#warrantyrange').val();
      var flag    = true; 
      if ((option == null) && (option == undefined))
      {
          $('#warrantyex option[value="0"]').prop('selected', true);
          $('#warrantyex').multiselect('refresh');
          
      }
      else
      {
	      if((isavailablezero(poption)==1)&&(isavailableanother(option)==1))
	      {
	      	
	      	$('#warrantyex option[value="0"]').prop('selected', false);
	      	$('#warrantyex').multiselect('refresh');
	      	flag        = false;  
	      }
	      if(flag)
	      {
	         if((isavailableanother(poption)==1)&&(isavailablezero(option)==1))
	         {
	      	    $('#warrantyex option[value="1"]').prop('selected', false);
	      	    $('#warrantyex option[value="2"]').prop('selected', false);
	      	    $('#warrantyex option[value="3"]').prop('selected', false);
	      	    $('#warrantyex option[value="4"]').prop('selected', false);
	      	    $('#warrantyex option[value="5"]').prop('selected', false);
	      	    $('#warrantyex').multiselect('refresh');
	      	    
	      	     
	         }
	      }
      }
      var option  = $('#warrantyex').val();
      $('#warrantyrange').val(option);
      //alert(option);
      
      filterajax();
  }
  function lwarrantyrange()
  {
      $('#islwarrantyrange').val(1);maildate_id
      var option  = $('#lwarrantyex').val();
      var poption = $('#lwarrantyrange').val();
      var flag    = true; 
      if ((option == null) && (option == undefined))
      {
          $('#lwarrantyex option[value="0"]').prop('selected', true);
          $('#lwarrantyex').multiselect('refresh');
          
      }
      else
      {
	      if((isavailablezero(poption)==1)&&(isavailableanother(option)==1))
	      {
	      	
	      	$('#lwarrantyex option[value="0"]').prop('selected', false);
	      	$('#lwarrantyex').multiselect('refresh');
	      	flag        = false;  
	      }
	      if(flag)
	      {
	         if((isavailableanother(poption)==1)&&(isavailablezero(option)==1))
	         {
	      	    $('#lwarrantyex option[value="1"]').prop('selected', false);
	      	    $('#lwarrantyex option[value="2"]').prop('selected', false);
	      	    $('#lwarrantyex option[value="3"]').prop('selected', false);
	      	    $('#lwarrantyex option[value="4"]').prop('selected', false);
	      	    $('#lwarrantyex option[value="5"]').prop('selected', false);
	      	    $('#lwarrantyex').multiselect('refresh');
	      	    
	      	     
	         }
	      }
      }
      var option  = $('#lwarrantyex').val();
      $('#lwarrantyrange').val(option);
      filterajax();
  }
  function getbirthdaymonth()
  {
     $('#isbirthdaymonth').val(1);
      var option  = $('#birthdaymonthid').val();
      var poption = $('#birthdaymonth').val();
      var flag    = true; 
      if ((option == null) && (option == undefined))
      {
          $('#birthdaymonthid option[value="0"]').prop('selected', true);
          $('#birthdaymonthid').multiselect('refresh');
          
      }
      else
      {
	      if((isavailablezero(poption)==1)&&(isavailableanother(option)==1))
	      {
	      	
	      	$('#birthdaymonthid option[value="0"]').prop('selected', false);
	      	$('#birthdaymonthid').multiselect('refresh');
	      	flag        = false;  
	      }
	      if(flag)
	      {
	         if((isavailableanother(poption)==1)&&(isavailablezero(option)==1))
	         {
	      	    $('#birthdaymonthid option[value="1"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="2"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="3"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="4"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="5"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="6"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="7"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="8"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="9"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="10"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="11"]').prop('selected', false);
	      	    $('#birthdaymonthid option[value="12"]').prop('selected', false);
	      	    $('#birthdaymonthid').multiselect('refresh');
	      	    
	      	     
	         }
	      }
      }
      var option  = $('#birthdaymonthid').val();
      $('#birthdaymonth').val(option);
     
      
      filterajax();
  }
  function createcampaign()
  {
     var dealerid   = $('#dealerid').val();
     var tab = $('#topnavid').val();ncountid
     var mailstyle = $('#mailstyleid').val();
     var emailstyle = $('#emailstyleid').val();
     var budgetmonth = $('#budgetmonthid').val();
     var csdate = $('#campaigndate_id').val();
     var cedate = $('#campaignenddate_id').val();
     var mdate = $('#maildate_id').val();
     var emdate = $('#emaildate_id').val();
     var tcost = $('#totalcostid').val();
     var ctype= $('#ctypeid').val();
     var cstatus= $('#cstatus').val();
     var redirect = $('#redirectid').val();
     $('#modal_container').showLoading(); 
	 $.get('/campaign/setup/build/',
	 {
	   dealerid:dealerid,tab:tab,mailstyle:mailstyle,emailstyle:emailstyle,budgetmonth:budgetmonth,
	   csdate:csdate,cedate:cedate,mdate:mdate,emdate:emdate,cost:tcost,ctype:ctype,cstatus:cstatus
	  },
	  function(data, status)
	  {
          location.href = redirect;     
      });  
  }
  function sorting(tab)
  {
      var orderstatus  = parseInt($('#orderstatus'+tab).val());
      if (orderstatus == '1')
      {
         $('#orderstatus'+tab).val('0');
      }
      if (orderstatus == '0')
      {
         $('#orderstatus'+tab).val('1');
      }
      if (orderstatus == '2')
      {
         $('#orderstatus'+tab).val('1');
      }
      
      filterajax(); 
  }
  function getsearch(e)
  {
     var key=e.keyCode || e.which;
     if (key==13){
        var searchitemval = $('#searchitemval').val();
        if(searchitemval!="")
        {
        	$('#searchitem').val(searchitemval);
        	$('#issearch').val(1);
        	$('#cpage').val(1);
        	filterajax();
        }
        else
        {
           $('#issearch').val(0);
           filterajax();
        }
        
     }
     
  }
  function pagechange()
  {
    var pagenumber = $('#pagenumberid').val();
    $('#cpage').val(pagenumber);
    filterajax();
  }
  function openmodal(cid)
  {
     $('#searchfilter').showLoading(); 
     $.get('/modal/customer/',
	 {cid:cid},function(data, status) 
	 { 
       $('#modal-weblead').html(data); 
       $('#modal-weblead').modal(); 
       $('#searchfilter').hideLoading();       
     });
     
  }
  function filtervehichele()
  {
     var year1 = $('#vehicleyear1').val();
     var year2 = $('#vehicleyear2').val();
     if((year1!='')&&(year2!=''))
     {
        filterajax();
     }
  }
  function getvehiche1()
  {
     var year = $('#vehicleyear1').val();
     $('#vyear1').val(year);
     filtervehichele();
  }
  function getvehiche2()
  {
     
     var year = $('#vehicleyear2').val();
     $('#vyear2').val(year);
     filtervehichele();
  }
  </script>
  </div>
  <script src="{% static 'js/bootstrap/dist/js/bootstrap.min.js' %}"></script>

  </body>
</html>
